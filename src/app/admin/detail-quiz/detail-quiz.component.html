<!--
=========================================================
* Argon Dashboard 3 - v2.1.0
=========================================================

* Product Page: https://www.creative-tim.com/product/argon-dashboard
* Copyright 2024 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://www.creative-tim.com/license)
* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="apple-touch-icon" sizes="76x76"
      href="../../../assets1/img/apple-icon.png">
    <link rel="icon" type="image/png" href="../../../assets1/img/favicon.png">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
    <title>
      Argon Dashboard 3 by Creative Tim
    </title>
    <!--     Fonts and icons     -->
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" />
    <!-- Nucleo Icons -->
    <link
      href="https://demos.creative-tim.com/argon-dashboard-pro/assets/css/nucleo-icons.css" />
    <link
      href="https://demos.creative-tim.com/argon-dashboard-pro/assets/css/nucleo-svg.css" />
    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/42d5adcbca.js"
      crossorigin="anonymous"></script>
    <!-- CSS Files -->
    <link id="pagestyle"
      href="../../../assets1/css/argon-dashboard.css?v=2.1.0" />
  </head>

  <body class="g-sidenav-show   bg-gray-100">
    <div class="min-height-200 bg-dark position-absolute"
    style="width: 1350px; background-image: url('../../../assets/nature.png'); background-size: cover;"></div>
      <aside class="sidenav bg-white navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-4 " id="sidenav-main">
        <app-asid-back></app-asid-back>
      </aside>
    <main class="main-content position-relative border-radius-lg ">
      <!-- Navbar -->
      <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl " id="navbarBlur" data-scroll="false">
        <app-nav-bar-back></app-nav-bar-back>
      </nav>
      <!-- End Navbar -->
      <div class="container">
        <div class="row">
          <div class="col-12">
            <section class="py-5 bg-light" style="background-color: transparent !important;">
              <div class="container-fluid">
                <div class="row justify-content-center">
                  <div class="col-lg-10">
                    <div class="formation-details-box bg-white rounded-lg shadow-lg p-4 p-md-5">
                      <div class="row">


                        <div class="container py-5">
                          <!-- Chargement du quiz -->
                          <div *ngIf="!quiz" class="text-center">
                            <div class="spinner-border text-primary" role="status">
                              <span class="sr-only">Chargement...</span>
                            </div>
                            <p class="text-muted mt-2">Chargement du quiz...</p>
                          </div>

                          <!-- Contenu du quiz -->
                          <div *ngIf="quiz" class="quiz-content">
                            <h2 class="text-center text-primary">{{ quiz.title }}</h2>
                            <h1 class="lead text-center text-secondary">
                               {{ quiz.titre }}
                            </h1>

                            <!-- Liste des questions -->
                            <ul class="list-group">
                              <li *ngFor="let question of quiz.questions; index as i" class="my-3">
                                <div class="question-label d-flex align-items-center mb-1">
                                  <span class="question-number">{{ i + 1 }}</span>
                                  <span class="ml-2">Question {{ i + 1 }}</span>

                                  <!-- Icône Modifier la Question -->
                                  <span class="ml-auto" (click)="editQuestion(i)" style="cursor: pointer; margin-left: 10px; color: orange;">
                                    <i class="fas fa-edit"></i>
                                  </span>

                                  <!-- Icône Ajouter une Réponse -->
                                  <span (click)="addAnswer(i)" style="cursor: pointer; margin-left: 10px; color: green;">
                                    <i class="fas fa-plus-circle"></i>
                                  </span>
                                <!-- Icône Supprimer la Question -->
<span (click)="supprimerQuestion(i)" style="cursor: pointer; margin-left: 10px; color: rgb(150, 34, 34);">
  <i class="fas fa-times-circle"> </i>
</span>

                                </div>

                                <div class="question-simple">
                                  <ng-container *ngIf="editingIndex !== i; else editMode">
                                    {{ question.text }}
                                    <span class="question-icon">
                                      <i class="fas fa-question-circle"></i>
                                    </span>
                                  </ng-container>

                                  <!-- Mode édition -->
                                  <ng-template #editMode>
                                    <input type="text" [(ngModel)]="question.text" (keyup.enter)="saveQuestion(i)" class="form-control" />
                                    <span (click)="saveQuestion(i)" style="cursor: pointer; margin-left: 10px; color: green; font-size: 20px;">

                                    </span>
                                  </ng-template>

                                </div>

                                <!-- Options de réponse -->
                                <ul class="options-simple">
                                  <li *ngFor="let answer of question.options; let j = index trackBy: trackByIndex" class="option-simple d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                      <!-- Icône verte pour la bonne réponse -->
                                      <span *ngIf="j === question.correctOption" style="color: rgb(70, 203, 208); margin-right: 8px;">
                                        <i class="fas fa-check-circle"></i>
                                      </span>

                                      <!-- Icône rouge pour les mauvaises réponses (cliquable pour changer la bonne réponse) -->
                                      <span *ngIf="j !== question.correctOption" (click)="setCorrectAnswer(i, j)"
                                            style="cursor: pointer; color: rgb(198, 63, 63); margin-right: 8px;">
                                        <i class="fas fa-times-circle"></i>
                                      </span>

                                      <!-- Affichage de l'option -->
                                      <span *ngIf="editingAnswerIndex?.questionIndex !== i || editingAnswerIndex?.answerIndex !== j">
                                        {{ answer }}
                                      </span>

                                      <!-- Mode édition -->
                                      <input *ngIf="editingAnswerIndex?.questionIndex === i && editingAnswerIndex?.answerIndex === j "
                                             type="text" [(ngModel)]="question.options[j]"
                                             (keyup.enter)="saveAnswer()"
                                             class="form-control" />
                                    </div>

                                    <div>
                                      <span (click)="editAnswer(i, j)" style="cursor: pointer; margin-left: 10px; color: rgb(104, 104, 255);">
                                        <i class="fas fa-edit"></i>
                                      </span>
                                      <span (click)="DeleteAnswer(i, j)" style="cursor: pointer; margin-left: 10px; color: rgb(174, 82, 82);">
                                        <i class="fas fa-trash"></i>
                                      </span>
                                    </div>
                                  </li>
                                </ul>

                              </li>
                            </ul>
                               <!-- Bouton Ajouter une Nouvelle Question -->
<div class="text-center mt-4">
  <button (click)="addQuestion()" class="btn btn-primary">
    <i class="fas fa-plus"></i> Ajouter une Question
  </button>
</div>

                          </div>
                        </div>





                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>

          </div>
        </div>


      </div>
    </main>


    <!--   Core JS Files   -->
    <script src="../../../assets1/js/core/popper.min.js"></script>
    <script src="../../../assets1/js/core/bootstrap.min.js"></script>
    <script src="../../../assets1/js/plugins/perfect-scrollbar.min.js"></script>
    <script src="../../../assets1/js/plugins/smooth-scrollbar.min.js"></script>
    <script>
    var win = navigator.platform.indexOf('Win') > -1;
    if (win && document.querySelector('#sidenav-scrollbar')) {
      var options = {
        damping: '0.5'
      }
      Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
    }
  </script>
    <!-- Github buttons -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!-- Control Center for Soft Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="../../../assets1/js/argon-dashboard.min.js?v=2.1.0"></script>
  </body>

</html>
